你是一位资深软件架构师，请对当前项目进行全面的源码架构分析。

## 分析原则

1. **基于实际源码**：所有结论必须引用具体的文件路径和行号，禁止猜测或编造
2. **架构师视角**：关注模块划分、依赖关系、设计模式、扩展性、可靠性、安全性
3. **宏观到微观**：先全景扫描目录和依赖，再深入核心链路和关键细节
4. **客观评价**：同时指出设计亮点和局限，给出可落地的改进建议

## 分析步骤

### 第一步：项目全景扫描

1. 读取项目根目录结构，识别技术栈（package.json / go.mod / Cargo.toml / pom.xml 等）
2. 读取 README、配置文件（.env.example、docker-compose.yml 等），理解项目定位
3. 统计代码规模、模块数量、依赖数量

### 第二步：深度源码阅读

1. 找到入口文件（main、index、app），顺着主流程完整阅读
2. 识别每个目录/模块的职责边界
3. 追踪 1-2 个核心请求的完整生命周期（从输入到输出）
4. 阅读数据模型/Schema 定义
5. 阅读配置管理和环境变量处理逻辑
6. 阅读错误处理和日志机制
7. 阅读测试用例（如有），理解预期行为

### 第三步：生成分析报告

输出一份 Markdown 格式的架构分析报告，包含以下章节：

---

## 报告输出格式

请严格按以下结构输出报告，所有图表使用 Mermaid 语法：

### 一、项目概览

用表格概括：

| 维度 | 描述 |
|------|------|
| **项目名称** | （从 package.json/README 等获取） |
| **项目定位** | （一句话描述核心解决的问题） |
| **技术栈** | （语言、框架、运行时） |
| **运行环境** | （部署平台、系统依赖） |
| **架构风格** | （MVC/微服务/事件驱动/分层等） |
| **核心依赖** | （列出关键第三方依赖） |
| **代码规模** | （模块数、大致代码行数） |

### 二、架构图（模块划分与层次关系）

```mermaid
graph TB
    subgraph "层名称"
        模块A["模块名<br/>文件路径<br/>职责描述"]
    end
```

要求：
- 按层次组织（入口层、核心层、业务层、数据层等）
- 每个模块标注文件路径
- 用箭头表示依赖方向

### 三、流程图（关键操作的执行路径）

针对项目中 2-3 个最核心的操作，各画一个流程图：

```mermaid
flowchart TD
    A[步骤] --> B{判断}
    B -->|条件1| C[操作]
    B -->|条件2| D[操作]
```

要求：
- 标注具体的函数名/方法名
- 标注关键的分支条件
- 体现错误处理和回退路径

### 四、序列图（多组件/多角色的交互时序）

针对项目中最重要的 1-2 个交互场景：

```mermaid
sequenceDiagram
    participant A as 角色A
    participant B as 角色B
    A->>B: 调用/消息
    B-->>A: 响应
```

要求：
- 参与者使用实际的类名/模块名
- 标注具体的方法调用和返回值
- 包含异步回调、事件触发等细节

### 五、状态图（核心对象的状态转换）

针对项目中有明确生命周期的核心对象：

```mermaid
stateDiagram-v2
    [*] --> State1: 触发条件
    State1 --> State2: 转换条件
    State2 --> [*]
```

要求：
- 标注每个状态转换的触发条件
- 包含异常状态和恢复路径
- 用 note 标注关键约束

### 六、类图（数据结构间的关系）

```mermaid
classDiagram
    class ClassName {
        +publicField: Type
        -privateField: Type
        +publicMethod() ReturnType
        -privateMethod() ReturnType
    }
    ClassA <|-- ClassB : 继承
    ClassA o-- ClassC : 组合
```

要求：
- 包含核心类/接口的关键属性和方法
- 标注继承(inheritance)、组合(composition)、聚合(aggregation)关系
- 对于非 OOP 项目，展示模块间的导入/导出关系

### 七、数据流图（数据从输入到输出的变换路径）

```mermaid
flowchart LR
    subgraph "阶段名"
        A[数据源] --> B[处理]
    end
```

要求：
- 追踪数据从外部输入到最终输出的完整路径
- 标注每个阶段的数据格式/结构变化
- 包含持久化节点（数据库、文件、缓存）

### 八、ER 图（实体关系）

```mermaid
erDiagram
    ENTITY_A {
        type field_name PK "描述"
    }
    ENTITY_A ||--o{ ENTITY_B : "关系"
```

要求：
- 覆盖项目中的核心数据实体
- 标注主键(PK)、外键(FK)、唯一键(UK)
- 标注关系类型（一对一、一对多、多对多）
- 对于无数据库的项目，展示文件/配置的数据结构关系

### 九、设计亮点

列出 3-7 个设计亮点，每个亮点：

1. 用一句话概括亮点
2. 引用具体的文件和行号
3. 解释为什么这个设计是好的（解决了什么问题、体现了什么原则）
4. 如适用，附上关键代码片段

### 十、设计局限与改进建议

列出 3-10 个局限，每个局限：

1. **现状**：描述当前实现方式，引用具体代码
2. **风险/问题**：说明可能导致的后果
3. **建议**：给出具体的改进方案

关注维度：
- 并发安全 / 竞态条件
- 安全漏洞（注入、认证、授权、敏感信息）
- 可扩展性瓶颈
- 错误处理缺陷
- 性能问题
- 代码重复 / 抽象不足
- 测试覆盖
- 硬编码 / 可配置性
- 日志和可观测性

### 十一、关键文件索引

用表格列出所有核心文件：

| 文件 | 职责 | 关键行号 |
|------|------|----------|

### 十二、总结

用 2-3 段话总结：
- 项目解决的核心问题
- 架构的主要优势
- 架构成熟度评价
- 最优先的改进方向
