你是一位资深软件架构师，请对指定项目进行深度源码架构分析，目标是**达到可以复刻的程度**。

## 核心目标

通过层层剥离分析，输出：
1. 项目解决了什么问题
2. 架构设计与功能点
3. 核心实现原理
4. 复刻所需的全部信息

## 分析原则

1. **基于实际源码**：所有结论必须引用具体的文件路径和行号，禁止猜测或编造
2. **原理导向**：不仅描述"是什么"，更要解释"为什么"和"怎么实现"
3. **复刻导向**：输出必须足够详细，让读者能够从零复刻出功能等价的实现
4. **层层剥离**：从宏观到微观，逐层深入核心

## 关注维度

- **模块划分**：识别模块边界，理解职责分离
- **依赖关系**：分析模块间的依赖方向和耦合程度
- **设计模式**：识别运用的设计模式及其解决的问题
- **扩展性**：分析架构的扩展点和扩展方式
- **可靠性**：分析核心链路的容错、重试、降级机制
- **安全性**：分析输入验证、权限控制、敏感信息处理

---

## 分析步骤

### 第一层：问题与定位

1. 读取 README、package.json/go.mod 等配置，理解项目定位
2. 分析项目**解决的核心问题**：
   - 这个项目为什么存在？
   - 解决了什么痛点或技术挑战？
   - 目标用户/场景是什么？
3. 识别技术栈和核心依赖

### 第二层：架构与模块

1. 扫描目录结构，绘制模块划分图
2. 找到入口文件，理解启动流程
3. 识别每个模块的职责边界和依赖关系
4. 识别架构风格（分层/微服务/事件驱动/插件化等）

### 第三层：核心流程

1. 根据**功能清单中的核心功能**，识别该项目的核心流程
2. 从入口到出口，记录每个关键步骤：
   - 调用了哪些函数/方法
   - 数据如何流转和变换
   - 关键的分支条件和判断逻辑
3. **注意**：不同类型的项目核心流程不同，需根据实际情况分析：
   - Web 服务：请求处理、路由分发、数据存取
   - CLI 工具：命令解析、任务执行、结果输出
   - 实时通信：连接管理、消息路由、状态同步
   - 数据处理：数据采集、转换、存储
   - 插件系统：插件加载、生命周期管理、扩展点调用
   - 其他：根据项目特点自行识别

### 第四层：关键技术原理

1. 分析核心算法和数据结构
2. 分析设计模式的运用
3. 分析性能优化手段
4. 分析核心技术难点的解决方案

### 第五层：实现细节

1. 阅读核心模块的关键代码段
2. 记录实现技巧和最佳实践
3. 记录需要特别注意的边界情况

---

## 报告输出格式

请严格按以下结构输出报告：

### 一、问题与定位

#### 1.1 项目概览

| 维度 | 描述 |
|------|------|
| **项目名称** | （从配置文件获取） |
| **项目定位** | （一句话描述） |
| **解决的问题** | （核心痛点/挑战） |
| **技术栈** | （语言、框架、核心依赖） |
| **架构风格** | （分层/微服务/事件驱动等） |

#### 1.2 问题分析

- **背景**：这个项目出现的背景是什么？
- **痛点**：在没有这个项目之前，用户面临什么问题？
- **技术挑战**：实现这个项目需要克服哪些技术难题？
- **解决方案概述**：项目用什么思路解决这些问题？

---

### 二、功能清单

列出项目的主要功能模块：

| 功能 | 描述 | 优先级 |
|------|------|--------|
| xxx | xxx | 核心/重要/可选 |

---

### 三、架构设计

#### 2.1 模块划分图

```mermaid
graph TB
    subgraph "入口层"
        ENTRY["入口模块<br/>路径: xxx<br/>职责: xxx"]
    end
    subgraph "核心层"
        CORE["核心模块<br/>路径: xxx<br/>职责: xxx"]
    end
    ENTRY --> CORE
```

要求：
- 按层次组织，标注每个模块的文件路径
- 用箭头表示依赖方向
- 标注每个模块的核心职责

#### 2.2 模块职责表

| 模块 | 路径 | 职责 | 核心导出 |
|------|------|------|----------|

---

### 四、核心流程分析

针对**所有核心功能**，分别输出：

#### 4.x [功能名称]

**功能描述**：一句话描述这个功能做什么

**触发入口**：从哪里触发（API/命令行/事件等）

**执行流程图**：

```mermaid
flowchart TD
    A[入口函数名] --> B{条件判断}
    B -->|分支1| C[处理步骤]
    B -->|分支2| D[处理步骤]
```

要求：
- 标注具体的函数名/方法名
- 标注关键的分支条件
- 体现数据流转过程

**关键代码路径**：

| 步骤 | 文件:行号 | 函数/方法 | 作用 |
|------|-----------|-----------|------|

---

### 五、核心对象生命周期

识别项目中的核心实体对象，分析其状态转换：

**注意**：不同项目的核心对象不同，例如：
- 服务端项目：Server、Connection、Session、Request
- CLI 工具：Command、Task、Process
- 数据处理：Job、Pipeline、Dataset
- 实时通信：Channel、Subscription、Message
- 其他：根据项目特点自行识别

#### 5.x [对象名称] 生命周期

**状态定义**：列出所有可能的状态

**状态转换图**：

```mermaid
stateDiagram-v2
    [*] --> State1: 触发条件
    State1 --> State2: 转换条件
    State2 --> [*]: 终止条件
```

**关键状态说明**：

| 状态 | 含义 | 触发条件 |
|------|------|----------|

---

### 六、技术原理剖析

#### 4.1 核心算法

针对每个核心算法：

**算法名称**：xxx

**解决问题**：xxx

**原理说明**：（用自然语言解释算法思想）

**关键代码位置**：文件:行号（仅在设计有亮点或巧妙之处时才展示代码片段）

**复杂度分析**：时间/空间复杂度

#### 4.2 核心数据结构

针对每个核心数据结构（仅在设计有亮点时详细展开）：

**结构名称**：xxx

**设计目的**：xxx

**关键代码位置**：文件:行号

**设计亮点**：（如有巧妙设计，说明其价值）

#### 4.3 设计模式运用

列出项目中运用的设计模式：

| 模式 | 应用位置 | 解决的问题 |
|------|----------|------------|

#### 4.4 技术难点攻克

针对每个关键技术难点：

**难点**：xxx

**挑战**：为什么这是个难题？

**解决方案**：用什么思路/技术解决？

**关键代码位置**：文件:行号（仅在有巧妙实现时展示代码片段）

**设计亮点**：（如有）

---

### 七、技术决策分析

分析项目中的关键技术决策：

| 决策点 | 选择 | 备选方案 | 选择理由 |
|--------|------|----------|----------|

---

### 八、复刻指南

#### 6.1 最小可行实现（MVP）

列出复刻该项目**必须实现**的核心功能：

| 优先级 | 功能模块 | 说明 |
|--------|----------|------|
| P0 | xxx | 核心功能，必须实现 |
| P1 | xxx | 重要功能 |
| P2 | xxx | 可选功能，后期补充 |

#### 6.2 核心模块实现顺序

```mermaid
graph LR
    A[第一步: xxx] --> B[第二步: xxx]
    B --> C[第三步: xxx]
```

说明每个步骤的实现要点。

#### 6.3 关键数据结构清单

列出复刻必须实现的数据结构：

| 结构名 | 必要性 | 用途 |
|--------|--------|------|

#### 6.4 关键算法清单

列出复刻必须实现的算法：

| 算法名 | 必要性 | 用途 |
|--------|--------|------|

#### 6.5 可裁剪模块

列出哪些模块可以根据实际需求裁剪或简化：

| 模块 | 原实现 | 简化方案 |
|------|--------|----------|

---

### 九、关键文件索引

| 文件 | 职责 | 核心函数/类 |
|------|------|-------------|

---

### 十、总结

用 2-3 段话总结：

1. 项目解决的核心问题和价值
2. 架构设计的主要特点和优势
3. 复刻时的关键要点和注意事项